const refreshPage=()=>window.location.reload(),validate={isName:function(e){if(e.target.value.length<2||!e.target.value.match(/^[A-Za-z\s]+$/)){document.querySelector(".input--name").classList.add("form__element--input--error");var t=document.createElement("p");t.classList.add("error-message"),t.innerHTML="Nomes devem ter pelo menos 2 caracteres e apenas letras",t.setAttribute("id","error-message-name"),document.querySelector(".form__section--container").prepend(t)}else document.querySelector(".input--name").classList.remove("form__element--input--error"),document.querySelectorAll("#error-message-name").forEach(e=>document.querySelector(".error-message").parentNode.removeChild(e))},isEmail:function(e){if(e.target.value.match(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/))document.querySelector(".input--email").classList.remove("form__element--input--error"),document.querySelectorAll("#error-message-email").forEach(e=>document.querySelector(".error-message").parentNode.removeChild(e));else{document.querySelector(".input--email").classList.add("form__element--input--error");var t=document.createElement("p");t.classList.add("error-message"),t.innerHTML="Por favor, insira um email válido",t.setAttribute("id","error-message-email"),document.querySelector(".form__section--container").prepend(t)}},isPhone:function(e){if(e.target.value.match(/^[(]{0,1}[0-9]{2}[)]{0,1}[-\s0-9]{8,13}$/))document.querySelector(".input--telephone").classList.remove("form__element--input--error"),document.querySelectorAll("#error-message-phone").forEach(e=>document.querySelector(".error-message").parentNode.removeChild(e));else{document.querySelector(".input--telephone").classList.add("form__element--input--error");var t=document.createElement("p");t.classList.add("error-message"),t.innerHTML="Por favor, insira um número de telefone válido",t.setAttribute("id","error-message-phone"),document.querySelector(".form__section--container").prepend(t)}},isEmpty:function(e){return""==e||" "==e},isNotEmptyForm:function(e,t){t(e.map(e=>this.isEmpty(e)))}},validateFirstForm=()=>validate.isNotEmptyForm([document.querySelector(".input--name").value,document.querySelector(".input--email").value,document.querySelector(".input--telephone").value,document.querySelector(".input--date").value,document.querySelector(".select--city").value,document.querySelector(".input__value--quantityPeople").value,document.querySelector(".input--minPrice").value,document.querySelector(".input--maxPrice").value,document.querySelector(".dynamic_number_input").value],e=>e.indexOf(!0)>=0?document.querySelector(".form__element--finish__button").disabled=!0:document.querySelector(".form__element--finish__button").disabled=!1),validateSecondForm=()=>validate.isNotEmptyForm([document.querySelector(".input--name--suggestion").value,document.querySelector(".input--email--suggestion").value,document.querySelector(".input--telephone--suggestion").value,document.querySelector(".input--message-suggestion").value],e=>{e.indexOf(!0)>=0?document.querySelector(".form__submit").disabled=!0:document.querySelector(".form__submit").disabled=!1});document.getElementsByClassName("form__element--button")[0].addEventListener("click",()=>{let e=document.querySelector(".input__value--quantityPeople");const t=Number(e.value)-1;e.value=t<2?2:String(t),validateFirstForm()}),document.getElementsByClassName("form__element--button")[1].addEventListener("click",()=>{let e=document.querySelector(".input__value--quantityPeople");const t=Number(e.value)+1;e.value=String(t),validateFirstForm()}),document.getElementsByClassName("change_number_button")[0].addEventListener("click",()=>{let e=document.querySelector(".dynamic_number_input");const t=Number(e.value)-1;e.value=t<1?1:String(t),validateFirstForm()}),document.getElementsByClassName("change_number_button")[1].addEventListener("click",()=>{let e=document.querySelector(".dynamic_number_input");const t=Number(e.value)+1;e.value=String(t),validateFirstForm()}),document.querySelector(".input--date").addEventListener("click",()=>{const e=new Date((new Date).getTime()+6048e5).toISOString().split("T")[0];document.querySelector(".input--date").setAttribute("min",e)}),document.getElementsByClassName("container__confirm--submit")[0].addEventListener("click",()=>refreshPage()),document.getElementsByClassName("container__confirm--submit")[1].addEventListener("click",()=>refreshPage()),document.getElementsByClassName("container__confirm--submit")[2].addEventListener("click",()=>refreshPage()),document.querySelector(".form__element--finish__button").addEventListener("click",async()=>{const e={fullName:document.querySelector(".input--name").value,email:document.querySelector(".input--email").value,phone:document.querySelector(".input--telephone").value,city:document.querySelector(".select--city").value,numPeople:document.querySelector(".input__value--quantityPeople").value,rentDate:document.querySelector(".input--date").value,numDays:document.querySelector(".dynamic_number_input").value,minPrice:document.querySelector(".input--minPrice").value,maxPrice:document.querySelector(".input--maxPrice").value},t=document.querySelector(".container__confirm--submit");document.querySelector(".container__confirm--submit p").style.textAlign="center",t.classList.toggle("none"),document.body.style.overflow="hidden",(await fetch("https://splashco.herokuapp.com/api/landing/submit",{method:"POST",body:JSON.stringify(e),headers:{"Content-type":"application/json"}})).ok?(t.classList.toggle("none"),document.querySelector("#success").classList.toggle("none")):(t.classList.add("none"),document.querySelector("#failure").classList.toggle("none"))}),document.querySelector(".form__submit").addEventListener("click",async()=>{const e={fullName:document.querySelector(".input--name--suggestion").value,email:document.querySelector(".input--email--suggestion").value,phone:document.querySelector(".input--telephone--suggestion").value,message:document.querySelector("textarea").value},t=document.querySelector(".container__confirm--submit");document.querySelector(".container__suggestion--submit p").style.textAlign="center",t.classList.toggle("none"),document.body.style.overflow="hidden",(await fetch("https://splashco.herokuapp.com/api/landing/submit-suggestion",{method:"POST",body:JSON.stringify(e),headers:{"Content-type":"application/json"}})).ok?(t.classList.toggle("none"),document.querySelector("#success").classList.toggle("none")):(t.classList.add("none"),document.querySelector("#failure").classList.toggle("none"))}),document.querySelector(".input--name").addEventListener("blur",e=>{validate.isName(e),validateFirstForm()}),document.querySelector(".input--email").addEventListener("blur",e=>{validate.isEmail(e),validateFirstForm()}),document.querySelector(".input--telephone").addEventListener("blur",e=>{validate.isPhone(e),validateFirstForm()}),document.querySelector(".select--city").addEventListener("blur",()=>validateFirstForm()),document.querySelector(".input--minPrice").addEventListener("keypress",()=>validateFirstForm()),document.querySelector(".input--minPrice").addEventListener("blur",()=>validateFirstForm()),document.querySelector(".input--maxPrice").addEventListener("keypress",()=>validateFirstForm()),document.querySelector(".input--maxPrice").addEventListener("blur",()=>validateFirstForm()),document.querySelector(".input--name--suggestion").addEventListener("blur",()=>validateSecondForm()),document.querySelector(".input--email--suggestion").addEventListener("blur",()=>validateSecondForm()),document.querySelector(".input--telephone--suggestion").addEventListener("blur",()=>validateSecondForm()),document.querySelector(".input--message-suggestion").addEventListener("blur",()=>validateSecondForm());